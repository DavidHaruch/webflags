function imgMd5(a){function b(a){return encodeURIComponent(a)}for(need_replace=["Bouvet Island","Norway","Guadeloupe","France","Isle of Man","Isle of Mann","Timor-Leste","East Timor","Mayotte","Mayotte (local)","Saint Martin","France","South Georgia","South Georgia and the South Sandwich Islands","Saint Pierre and Miquelon","France","Svalbard and Jan Mayen","Norway","Heard Island and McDonald Islands","Australia","United States Minor Outlying Islands","United States","China","People's Republic of China","Åland","Åland","Micronesia","Federated States of Micronesia"],j=0;j<need_replace.length;j++)j%2===0&&a==need_replace[j]&&(a=need_replace[j+1]);for(needthe_include=["United","French Southern","Czech","Dominican","Marshall","Mariana","Central","Cook Islands","Cayman","Faroe Islands","Falkland","Indian","Solomon","Isle of Mann","Pitcairn","Vatican","British Virgin","China","Micronesia"],j=0;j<needthe_include.length;j++)a.includes(needthe_include[j])&&(a="the "+a);for(needthe_name=["Bahamas","Netherlands","Philippines","Turks and Caicos Islands","Republic of the Congo","Comoros"],j=0;j<needthe_name.length;j++)a==needthe_name[j]&&(a="the "+a);for(needThe_name=["Gambia"],j=0;j<needThe_name.length;j++)a==needThe_name[j]&&(a="The "+a);var c=" ",d=new RegExp(c,"g");a=a.replace(d,"_"),a.includes("China")&&(a=b(a)),svg=new Image,wikipediaPageUrl="http://wikipedia.org/wiki/Flag_of_"+a+"#/media/File:Flag_of_"+a+".svg",wikipediaBaseFileUrl="Flag_of_"+a+".svg",fileUrlMd5=md5(wikipediaBaseFileUrl),wikiMdSlash1=fileUrlMd5.charAt(0),wikiMdSlash2=fileUrlMd5.substring(0,2),finalFileName="http://upload.wikimedia.org/wikipedia/commons/"+wikiMdSlash1+"/"+wikiMdSlash2+"/Flag_of_"+a+".svg",svg.src=finalFileName,a.includes("Åland")&&(svg.src="http://upload.wikimedia.org/wikipedia/commons/5/52/Flag_of_%C3%85land.svg"),a.includes("Cocos")&&(svg.src="http://upload.wikimedia.org/wikipedia/commons/7/74/Flag_of_the_Cocos_%28Keeling%29_Islands.svg"),a.includes("Taiwan")&&(svg.src="http://upload.wikimedia.org/wikipedia/commons/7/72/Flag_of_the_Republic_of_China.svg"),a.includes("DR")&&(svg.src="http://upload.wikimedia.org/wikipedia/commons/6/6f/Flag_of_the_Democratic_Republic_of_the_Congo.svg"),a.includes("Ivory")&&(svg.src="https://upload.wikimedia.org/wikipedia/commons/f/fe/Flag_of_C%C3%B4te_d%27Ivoire.svg"),a.includes("Barthélemy")&&(svg.src="https://upload.wikimedia.org/wikipedia/commons/d/df/Flag_of_Saint_Barthelemy_%28local%29.svg"),a.includes("São")&&(svg.src="https://upload.wikimedia.org/wikipedia/commons/4/4f/Flag_of_Sao_Tome_and_Principe.svg"),svg.className+="svgFlag",document.getElementById("nameDisp"+i).appendChild(svg),elemArr.push("nameDisp"+i)}function actOnJSON(a){var b=a;for(i=0;i<b.length;i++)name=b[i].name.common,nameDisp=document.createElement("div"),nameDisp.id="nameDisp"+i,nameDisp.className+="nameDisp",nameDisp.innerHTML=name,document.getElementById("main").appendChild(nameDisp),imgMd5(name);return b}function rmDots(){a=document.getElementById("spinnerText"),a.textContent="Loading"}function addDots(){setTimeout(function(){load=document.getElementById("spinnerText"),loadText=load.textContent,load.textContent+=" .",addDotsNum++,4>addDotsNum?addDots():(rmDots(),addDots(),addDotsNum=0)},700)}function SpinLoop(){setTimeout(function(){spinText=document.getElementById("spinnerText"),spin=document.getElementById("spinner"),spin.style.opacity=spinHideO/64,spinHideO--,spinHideO>spin.scrollHeight?SpinLoop():(removeElementNow(spin),removeElementNow(spinText))},10)}var elemArr=[],removeElementNow=function(a){document.getElementById(""+a)===!0?(cwi=document.getElementById("elemID"),cwi.parentNode.removeChild(cwe)):void 0!==typeof a?a.parentNode.removeChild(a):document.querySelectorAll("."+a)===!0?(cwc=document.querySelectorAll("."+a),cwi.parentNode.removeChild(cwc)):console.log("unknown format")},addDotsNum=0,spinHideO=64,result,finished=!1,AJAXcountries=function(){var a;a=new XMLHttpRequest,a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE?200==a.status?(result=JSON.parse(a.responseText),actOnJSON(result),SpinLoop()):400==a.status?alert("There was an error 400"):alert("something else other than 200 was returned"):1==a.readyState&&addDots()},a.open("GET","data/countries.min.json",!0),a.send()};AJAXcountries();var inputTag=document.getElementById("search"),searchButton=document.getElementById("searchButton");