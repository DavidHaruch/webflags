function imgMd5(a){switch(a){case"United Arab Emirates":name="the United Arab Emirates"}svg=new Image,wikipediaPageUrl="http://wikipedia.org/wiki/Flag_of_"+a+"#/media/File:Flag_of_"+a+".svg",wikipediaBaseFileUrl="Flag_of_"+a+".svg",fileUrlMd5=md5(wikipediaBaseFileUrl),console.log(fileUrlMd5),wikiMdSlash1=fileUrlMd5.charAt(0),wikiMdSlash2=fileUrlMd5.substring(0,2),console.log(wikiMdSlash1),console.log(wikiMdSlash2),finalFileName="http://upload.wikimedia.org/wikipedia/commons/"+wikiMdSlash1+"/"+wikiMdSlash2+"/Flag_of_"+a+".svg",svg.src="http://upload.wikimedia.org/wikipedia/commons/"+wikiMdSlash1+"/"+wikiMdSlash2+"/Flag_of_"+a+".svg",svg.className+="svgFlag",document.getElementById("nameDisp"+i).appendChild(svg)}function actOnJSON(a){var b=a;for(i=0;i<b.length;i++)name=b[i].name.common,nameDisp=document.createElement("div"),nameDisp.id="nameDisp"+i,nameDisp.className+="nameDisp",nameDisp.innerHTML=name,document.getElementById("main").appendChild(nameDisp),imgMd5(name);return b}function rmDots(){a=document.getElementById("spinnerText"),a.textContent="Loading"}function addDots(){setTimeout(function(){load=document.getElementById("spinnerText"),loadText=load.textContent,load.textContent+=" .",addDotsNum++,4>addDotsNum?addDots():(rmDots(),addDots(),addDotsNum=0)},700)}function SpinLoop(){setTimeout(function(){spinText=document.getElementById("spinnerText"),spin=document.getElementById("spinner"),spin.style.opacity=spinHideO/64,spinHideO--,spinHideO>spin.scrollHeight?SpinLoop():(removeElementNow(spin),removeElementNow(spinText))},10)}var removeElementNow=function(a){document.getElementById(""+a)===!0?(cwi=document.getElementById("elemID"),cwi.parentNode.removeChild(cwe)):void 0!==typeof a?a.parentNode.removeChild(a):document.querySelectorAll("."+a)===!0?(cwc=document.querySelectorAll("."+a),cwi.parentNode.removeChild(cwc)):console.log("unknown format")},addDotsNum=0,spinHideO=64,result,finished=!1,AJAXcountries=function(){var a;a=new XMLHttpRequest,a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE?200==a.status?(result=JSON.parse(a.responseText),actOnJSON(result),SpinLoop()):400==a.status?alert("There was an error 400"):alert("something else other than 200 was returned"):1==a.readyState&&(addDots(),console.log("removed spinner"))},a.open("GET","data/countries.min.json",!0),a.send()};AJAXcountries();var AJAXimages=function(a){var b;b=new XMLHttpRequest,b.onreadystatechange=function(){b.readyState==XMLHttpRequest.DONE?200==b.status||(400==b.status?alert("There was an error 400"):alert("something else other than 200 was returned")):1==b.readyState},xmlhttp.open("GET","data/countries.min.json",!0),xmlhttp.send()};